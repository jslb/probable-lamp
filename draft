#include <stdio.h>
#include <string.h>
#include <ctype.h>
#include <ctype.h>


void addFunc (int endreg, int val1var, int val2var)
{
    printf("addFunc vars:\n");
    printf("%i\n", endreg);
    printf("%i\n", val1var);
    printf("%i\n",val2var);
    
 
}

void movFunc (int endreg, int val1var)
{
    printf("movFunc vars:\n");
    printf("%i\n", endreg);
    printf("%i\n", val1var);
}


int main()
{
    char inputstr[50];
    char inst[10];
    int marker = 1;
    int spacebool;
    char *argsstr[10];
    
    //Register declaration
    int R0, R1, R2, R3, R4, R5, R6, R7, R8, R9, R10, R11, R12, R13, R14, R15;
    
    //runs continuously
    while (marker == 1)
    {
        printf("Enter input: ");
        
        //reads, stores, and prints, input
        fgets(inputstr, sizeof(inputstr), stdin);  // read string
        printf("You entered: ");
        puts(inputstr);    // display string
        
        char *frag = strtok(inputstr, " ");
        int counter = 0;
        
        // loop through the string to split at each " "
        while( frag != NULL ) 
        {
            printf( " %s\n", frag ); //printing each
            argsstr[counter++] = frag;
            frag = strtok(NULL, " ");
        }
        
        //add each frag into new array (argsstr)
        int p;
        for (p = 0; p < counter; ++p)
        {
            printf( "%s\n", argsstr[p]) ;
        }
        
        printf("Instruction: %s", argsstr[0]);
        int regVar, val1var, val2var;
        //regVar
        if (strcmp(argsstr[1], "r0,") == 0){
            regVar = 0;
            printf("\nregVar = 0");
        } else if (strcmp(argsstr[1], "r1,") == 0){
            regVar = 1;
            printf("\nregVar = 1");
        } else if (strcmp(argsstr[1], "r2,") == 0){
            regVar = 2;
            printf("\nregVar = 2");
        } else if (strcmp(argsstr[1], "r3,") == 0){
            regVar = 3;
            printf("\nregVar = 3");
        } else if (strcmp(argsstr[1], "r4,") == 0){
            regVar = 4;
            printf("\nregVar = 4");
        } else if (strcmp(argsstr[1], "r5,") == 0){
            regVar = 5;
            printf("\nregVar = 5");
        } else if (strcmp(argsstr[1], "r6,") == 0){
            regVar = 6;
            printf("\nregVar = 6");
        } else if (strcmp(argsstr[1], "r7,") == 0){
            regVar = 7;
            printf("\nregVar = 7");
        } else if (strcmp(argsstr[1], "r8,") == 0){
            regVar = 8;
            printf("\nregVar = 8");
        } else if (strcmp(argsstr[1], "r9,") == 0){
            regVar = 9;
            printf("\nregVar = 9");
        } else if (strcmp(argsstr[1], "r10,") == 0){
            regVar = 10;
            printf("\nregVar = 10");
        } else if (strcmp(argsstr[1], "r11,") == 0){
            regVar = 11;
            printf("\nregVar = 11");
        } else if (strcmp(argsstr[1], "r12,") == 0){
            regVar = 12;
            printf("\nregVar = 12");
        } else if (strcmp(argsstr[1], "r13,") == 0){
            regVar = 13;
            printf("\nregVar = 13");
        } else if (strcmp(argsstr[1], "r14,") == 0){
            regVar = 14;
            printf("\nregVar = 14");
        } else if (strcmp(argsstr[1], "r15,") == 0){
            regVar = 15;
            printf("\nregVar = 15");
        } else 
        {
            printf("The 2nd fragment is not a valid register");
        }
        
        //val1var
        if (strcmp(argsstr[2], "r0,") == 0){
            val1var = 0;
            printf("\nval1var = 0");
        } else if (strcmp(argsstr[2], "r1,") == 0){
            val1var = 1;
            printf("\nval1var = 1");
        } else if (strcmp(argsstr[2], "r2,") == 0){
            val1var = 2;
            printf("\nval1var = 2");
        } else if (strcmp(argsstr[2], "r3,") == 0){
            val1var = 3;
            printf("\nval1var = 3");
        } else if (strcmp(argsstr[2], "r4,") == 0){
            val1var = 4;
            printf("\nval1var = 4");
        } else if (strcmp(argsstr[2], "r5,") == 0){
            val1var = 5;
            printf("\nval1var = 5");
        } else if (strcmp(argsstr[2], "r6,") == 0){
            val1var = 6;
            printf("\nval1var = 6");
        } else if (strcmp(argsstr[2], "r7,") == 0){
            val1var = 7;
            printf("\nval1var = 7");
        } else if (strcmp(argsstr[2], "r8,") == 0){
            val1var = 8;
            printf("\nval1var = 8");
        } else if (strcmp(argsstr[2], "r9,") == 0){
            val1var = 9;
            printf("\nval1var = 9");
        } else if (strcmp(argsstr[2], "r10,") == 0){
            val1var = 10;
            printf("\nval1var = 10");
        } else if (strcmp(argsstr[2], "r11,") == 0){
            val1var = 11;
            printf("\nval1var = 11");
        } else if (strcmp(argsstr[2], "r12,") == 0){
            val1var = 12;
            printf("\nval1var = 12");
        } else if (strcmp(argsstr[2], "r13,") == 0){
            val1var = 13;
            printf("\nval1var = 13");
        } else if (strcmp(argsstr[2], "r14,") == 0){
            val1var = 14;
            printf("\nval1var = 14");
        } else if (strcmp(argsstr[2], "r15,") == 0){
            val1var = 15;
            printf("\nval1var = 15");
        } else 
        {
            printf("The 3rd fragment is not a valid register");
        }
        
        //val2var
        if (strcmp(argsstr[3], "r0") == 0){
            val2var = 0;
            printf("\nval2var = 0");
        } else if (strcmp(argsstr[3], "r1") == 0){
            val2var = 1;
            printf("\nval2var = 1");
        } else if (strcmp(argsstr[3], "r2") == 0){
            val2var = 2;
            printf("\nval2var = 2");
        } else if (strcmp(argsstr[3], "r3") == 0){
            val2var = 3;
            printf("\nval2var = 3");
        } else if (strcmp(argsstr[3], "r4") == 0){
            val2var = 4;
            printf("\nval2var = 4");
        } else if (strcmp(argsstr[3], "r5") == 0){
            val2var = 5;
            printf("\nval2var = 5");
        } else if (strcmp(argsstr[3], "r6") == 0){
            val2var = 6;
            printf("\nval2var = 6");
        } else if (strcmp(argsstr[3], "r7") == 0){
            val2var = 7;
            printf("\nval2var = 7");
        } else if (strcmp(argsstr[3], "r8") == 0){
            val2var = 8;
            printf("\nval2var = 8");
        } else if (strcmp(argsstr[3], "r9") == 0){
            val2var = 9;
            printf("\nval2var = 9");
        } else if (strcmp(argsstr[3], "r10") == 0){
            val2var = 10;
            printf("\nval2var = 10");
        } else if (strcmp(argsstr[3], "r11") == 0){
            val2var = 11;
            printf("\nval2var = 11");
        } else if (strcmp(argsstr[3], "r12") == 0){
            val2var = 12;
            printf("\nval2var = 12");
        } else if (strcmp(argsstr[3], "r13") == 0){
            val2var = 13;
            printf("\nval2var = 13");
        } else if (strcmp(argsstr[3], "r14") == 0){
            val2var = 14;
            printf("\nval2var = 14");
        } else if (strcmp(argsstr[3], "r15") == 0){
            val2var = 15;
            printf("\nval2var = 15");
        } else 
        {
            printf("The 4th fragment is not a valid register");
        }
        
                
        if (strcmp(argsstr[0], "add") == 0)
        {
            printf("\ncall add func\n"); // want to give the function, the rest of the input string
            addFunc(regVar, val1var, val2var); //passing the inst to addFunc
        } 
        else if (strcmp(argsstr[0], "mov") == 0)
        {
            printf("\ncall move func\n");
            movFunc(regVar, val1var);
        } 
        else 
        {
            printf("Unknown instruction");
        }
    }
    
    
    //out of while loops, exits
    return 0;
}

/*int registerFunc(char *reg)
{
    printf("string: %s", reg);
    
    if (strcmp(tolower(reg), "r0") == 0)
    {
        regCode = 0;
    } else if (strcmp(tolower(reg), "r1") == 0)
    {
        regCode = 1;
    } else if (strcmp(tolower(reg), "r2") == 0)
    {
        regCode = 2;
    } 
    
    return regCode;
    
}*/
